(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7705af93"],{ad71f:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),c={class:"content-box goods-classification"},i={key:0},r=Object(o["createTextVNode"])("添加分类"),a=Object(o["createTextVNode"])("编辑"),u=Object(o["createTextVNode"])("删除"),s={key:1},d=Object(o["createTextVNode"])("添加型号"),l=Object(o["createTextVNode"])("删除");function p(e,t,n,p,h,f){var g=Object(o["resolveComponent"])("a-tab-pane"),O=Object(o["resolveComponent"])("a-tabs"),C=Object(o["resolveComponent"])("a-button"),b=Object(o["resolveComponent"])("router-link"),m=Object(o["resolveComponent"])("a-switch"),v=Object(o["resolveComponent"])("a-input-number"),y=Object(o["resolveComponent"])("a-table"),_=Object(o["resolveComponent"])("a-input"),x=Object(o["resolveComponent"])("a-spin");return Object(o["openBlock"])(),Object(o["createBlock"])(x,{spinning:h.spinning},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",c,[Object(o["createVNode"])(O,{activeKey:h.activeKey,"onUpdate:activeKey":t[1]||(t[1]=function(e){return h.activeKey=e}),onChange:f.tabChange},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{key:"1",tab:"分类设置",onClick:f.getCategoryList},null,8,["onClick"]),Object(o["createVNode"])(g,{key:"2",tab:"型号设置",onClick:f.getSpecificationList},null,8,["onClick"])]})),_:1},8,["activeKey","onChange"]),"1"===h.activeKey?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[Object(o["createVNode"])(b,{to:"/classification/category"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(C,{type:"primary"},{default:Object(o["withCtx"])((function(){return[r]})),_:1})]})),_:1}),Object(o["createVNode"])(y,{columns:h.categoryColumns,"data-source":h.category,pagination:!1,rowKey:function(e){return e.id},style:{"margin-top":"10px"}},{iconDisplay:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(m,{checked:t.icon_display,"onUpdate:checked":function(e){return t.icon_display=e},onChange:function(e){return f.changeIconDisplay(t)}},null,8,["checked","onUpdate:checked","onChange"])]})),showIndex:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(m,{checked:t.show_index,"onUpdate:checked":function(e){return t.show_index=e},onChange:function(e){return f.changeShowIndex(t)}},null,8,["checked","onUpdate:checked","onChange"])]})),sort:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(v,{value:t.sort_order,"onUpdate:value":function(e){return t.sort_order=e},min:1,onBlur:function(e){return f.changeSortOrder(t)}},null,8,["value","onUpdate:value","onBlur"])]})),operation:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(C,{type:"primary",style:{"margin-right":"10px"},onClick:function(e){return f.edit("edit",t)}},{default:Object(o["withCtx"])((function(){return[a]})),_:2},1032,["onClick"]),Object(o["createVNode"])(C,{type:"danger",onClick:function(e){return f.edit("delete",t)}},{default:Object(o["withCtx"])((function(){return[u]})),_:2},1032,["onClick"])]})),_:1},8,["columns","data-source","rowKey"])])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])(b,{to:"/classification/specification"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(C,{type:"primary"},{default:Object(o["withCtx"])((function(){return[d]})),_:1})]})),_:1}),Object(o["createVNode"])(y,{columns:h.specificationColumns,"data-source":h.specification,pagination:!1,rowKey:function(e){return e.id},style:{"margin-top":"10px"}},{name:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(_,{value:t.name,"onUpdate:value":function(e){return t.name=e},onBlur:function(e){return f.changeSpecificationName(t)}},null,8,["value","onUpdate:value","onBlur"])]})),sort:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(v,{value:t.sort_order,"onUpdate:value":function(e){return t.sort_order=e},min:1,onBlur:function(e){return f.changeSpecificationSortOrder(t)}},null,8,["value","onUpdate:value","onBlur"])]})),operation:Object(o["withCtx"])((function(e){var t=e.record;return[Object(o["createVNode"])(C,{type:"danger",onClick:function(e){return f.deleteSpecification(t)}},{default:Object(o["withCtx"])((function(){return[l]})),_:2},1032,["onClick"])]})),_:1},8,["columns","data-source","rowKey"])]))])]})),_:1},8,["spinning"])}var h=n("1da1"),f=(n("96cf"),{name:"GoodsClassification",data:function(){return{spinning:!1,activeKey:"1",category:[],categoryColumns:[{title:"分类名称",dataIndex:"name",key:"name"},{title:"图标显示",dataIndex:"icon_display",key:"icon_display",slots:{customRender:"iconDisplay"}},{title:"首页显示",dataIndex:"show_index",key:"show_index",slots:{customRender:"showIndex"}},{title:"排序",dataIndex:"sort_order",key:"sort_order",slots:{customRender:"sort"}},{title:"操作",key:"operation",slots:{customRender:"operation"}}],specification:[],specificationColumns:[{title:"ID",dataIndex:"id",key:"id"},{title:"型号名",dataIndex:"name",key:"name",slots:{customRender:"name"}},{title:"排序",dataIndex:"sort_order",key:"sort_order",slots:{customRender:"sort"}},{title:"操作",key:"operation",slots:{customRender:"operation"}}]}},methods:{tabChange:function(e){"1"===e?this.getCategoryList():"2"===e&&this.getSpecificationList()},getCategoryList:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinning=!0,t.prev=1,t.next=4,e.$axios({method:e.$api.GET_ALL_CATEGORY.method,url:e.$api.GET_ALL_CATEGORY.url});case 4:n=t.sent,e.category=n.data.category,e.spinning=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.spinning=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getSpecificationList:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinning=!0,t.prev=1,t.next=4,e.$axios({method:e.$api.GET_ALL_SPECIFICATION.method,url:e.$api.GET_ALL_SPECIFICATION.url});case 4:n=t.sent,e.specification=n.data.specification,e.spinning=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.spinning=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},changeIconDisplay:function(e){console.log("???");var t={id:e.id,icon_display:e.icon_display};this.changeStatus("CHANGE_CATEGORY_ICON_DISPLAY",t)},changeShowIndex:function(e){var t={id:e.id,show_index:e.show_index};this.changeStatus("CHANGE_CATEGORY_SHOW_INDEX",t)},changeSortOrder:function(e){var t={id:e.id,sort_order:e.sort_order};this.changeStatus("CHANGE_CATEGORY_SORT_ORDER",t)},changeSpecificationName:function(e){var t={id:e.id,name:e.name};this.changeStatus("CHANGE_SPECIFICATION_NAME",t)},changeSpecificationSortOrder:function(e){var t={id:e.id,sort_order:e.sort_order};this.changeStatus("CHANGE_SPECIFICATION_SORT_ORDER",t)},edit:function(e,t){var n=this;"edit"===e?this.$router.push("/classification/category?id=".concat(t.id)):"delete"===e&&this.$modal.confirm({title:"提示",content:"确定要删除该分类?",cancelText:"取消",okText:"确定",onOk:function(){n.changeStatus("DELETE_CATEGORY",{id:t.id})}})},deleteSpecification:function(e){var t=this;this.$modal.confirm({title:"提示",content:"确定要删除该类型?",cancelText:"取消",okText:"确定",onOk:function(){t.changeStatus("DELETE_SPECIFICATION",{id:e.id})}})},changeStatus:function(e,t){var n=this;return Object(h["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n.spinning=!0,o.prev=1,o.next=4,n.$axios({method:n.$api[e].method,url:n.$api[e].url,data:t});case 4:n.spinning=!1,"1"===n.activeKey?n.getCategoryList():"2"===n.activeKey&&n.getSpecificationList(),o.next=12;break;case 8:o.prev=8,o.t0=o["catch"](1),console.log(o.t0),n.spinning=!1;case 12:case"end":return o.stop()}}),o,null,[[1,8]])})))()}},mounted:function(){this.getCategoryList()}});f.render=p;t["default"]=f}}]);
//# sourceMappingURL=chunk-7705af93.8e243760.js.map