(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-801297d0"],{4386:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["withScopeId"])("data-v-f78d6184");Object(r["pushScopeId"])("data-v-f78d6184");var i={class:"shop-express-settings"},o={key:0},c={key:1},s=Object(r["createTextVNode"])("打印后自动发货"),u=Object(r["createTextVNode"])("保存"),l=Object(r["createVNode"])("h3",null,"快递公司列表",-1),d=Object(r["createTextVNode"])("添加"),p={key:0,style:{color:"rgb(102, 177, 255)"}},g={key:1},b=Object(r["createTextVNode"])("编辑");Object(r["popScopeId"])();var O=a((function(e,t,n,O,f,v){var m=Object(r["resolveComponent"])("a-input"),j=Object(r["resolveComponent"])("a-form-item"),h=Object(r["resolveComponent"])("a-cascader"),k=Object(r["resolveComponent"])("a-checkbox"),x=Object(r["resolveComponent"])("a-button"),N=Object(r["resolveComponent"])("a-form"),S=Object(r["resolveComponent"])("a-divider"),_=Object(r["resolveComponent"])("a-table-column"),y=Object(r["resolveComponent"])("a-table"),T=Object(r["resolveComponent"])("a-spin");return Object(r["openBlock"])(),Object(r["createBlock"])(T,{spinning:f.spinning},{default:a((function(){return[Object(r["createVNode"])("div",i,[Object(r["createVNode"])(N,{model:f.settings,rules:f.settingsRules,ref:"settingsRef",hideRequiredMark:"","label-col":{span:24},"wrapper-col":{span:24}},{default:a((function(){return[Object(r["createVNode"])(j,{label:"寄件人",name:"Name"},{default:a((function(){return[Object(r["createVNode"])(m,{value:f.settings.Name,"onUpdate:value":t[1]||(t[1]=function(e){return f.settings.Name=e}),placeholder:"请输入寄件人姓名"},null,8,["value"])]})),_:1}),Object(r["createVNode"])(j,{label:"联系电话",name:"Tel"},{default:a((function(){return[Object(r["createVNode"])(m,{value:f.settings.Tel,"onUpdate:value":t[2]||(t[2]=function(e){return f.settings.Tel=e}),placeholder:"请输入寄件人联系电话"},null,8,["value"])]})),_:1}),Object(r["createVNode"])(j,{label:"省份"},{default:a((function(){return[Object(r["createVNode"])(h,{value:f.settings.regionOptions,"onUpdate:value":t[3]||(t[3]=function(e){return f.settings.regionOptions=e}),options:f.region,style:{width:"100%"},placeholder:"请选择寄件人地址"},{displayRender:a((function(e){var t=e.labels,n=e.selectedOptions;return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(e,a){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:n[a].value},[a===t.length-1?(Object(r["openBlock"])(),Object(r["createBlock"])("span",o,Object(r["toDisplayString"])(e),1)):(Object(r["openBlock"])(),Object(r["createBlock"])("span",c,Object(r["toDisplayString"])(e)+" /",1))])})),128))]})),_:1},8,["value","options"])]})),_:1}),Object(r["createVNode"])(j,{label:"详细地址",name:"Address"},{default:a((function(){return[Object(r["createVNode"])(m,{value:f.settings.Address,"onUpdate:value":t[4]||(t[4]=function(e){return f.settings.Address=e}),placeholder:"请输入具体地址"},null,8,["value"])]})),_:1}),Object(r["createVNode"])(j,null,{default:a((function(){return[Object(r["createVNode"])(k,{checked:f.settings.autoDelivery,"onUpdate:checked":t[5]||(t[5]=function(e){return f.settings.autoDelivery=e})},{default:a((function(){return[s]})),_:1},8,["checked"])]})),_:1}),Object(r["createVNode"])(j,null,{default:a((function(){return[Object(r["createVNode"])(x,{type:"primary",onClick:v.saveSettings},{default:a((function(){return[u]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"]),Object(r["createVNode"])(S),Object(r["createVNode"])(y,{"data-source":f.express,pagination:!1,rowKey:function(e){return e.id}},{title:a((function(){return[l,Object(r["createVNode"])(x,{type:"primary",onClick:t[6]||(t[6]=function(e){return v.expressEdit("add")})},{default:a((function(){return[d]})),_:1})]})),default:a((function(){return[Object(r["createVNode"])(_,{key:"id",title:"ID","data-index":"id",width:80}),Object(r["createVNode"])(_,{key:"name",title:"名称","data-index":"name"}),Object(r["createVNode"])(_,{key:"code",title:"代号","data-index":"code"}),Object(r["createVNode"])(_,{key:"CustomerName",title:"客户编号","data-index":"CustomerName"}),Object(r["createVNode"])(_,{key:"MonthCode",title:"月结账号","data-index":"MonthCode"}),Object(r["createVNode"])(_,{key:"enabled",title:"状态","data-index":"enabled"},{default:a((function(e){var t=e.text;return[1===t?(Object(r["openBlock"])(),Object(r["createBlock"])("span",p,"使用中")):(Object(r["openBlock"])(),Object(r["createBlock"])("span",g,"未使用"))]})),_:1}),Object(r["createVNode"])(_,{key:"action",title:"操作"},{default:a((function(e){var t=e.record;return[Object(r["createVNode"])(x,{type:"primary",onClick:function(e){return v.expressEdit("edit",t)}},{default:a((function(){return[b]})),_:2},1032,["onClick"]),Object(r["createVNode"])(x,{type:"danger",onClick:function(e){return v.changeStatus(t)},style:{"margin-left":"20px"}},{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(1===t.enabled?"停用":"启用"),1)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data-source","rowKey"])])]})),_:1},8,["spinning"])})),f=n("1da1"),v=(n("99af"),n("b0c0"),n("96cf"),{name:"ShopExpressSettings",data:function(){return{spinning:!1,region:[],regionOptions:[],settingsRules:{Name:[{required:!0,trigger:"change",message:"请输入寄件人姓名"}],Tel:[{required:!0,trigger:"change",message:"请输入寄件人联系电话"}],Address:[{required:!0,trigger:"change",message:"请输入具体地址"}]},settings:{},express:[]}},methods:{getExpressSettings:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinning=!0,t.prev=1,t.next=4,e.$axios({method:e.$api.GET_EXPRESS_SETTINGS.method,url:e.$api.GET_EXPRESS_SETTINGS.url});case 4:n=t.sent,e.settings=n.data.settings,1===e.settings.autoDelivery?e.settings.autoDelivery=!0:e.settings.autoDelivery=!1,e.express=n.data.express,e.settings.regionOptions=[],e.settings.regionOptions.push(n.data.settings.province_id,n.data.settings.city_id,n.data.settings.district_id),e.spinning=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log("获取快递设置页内容失败。[getExpressSettings]",t.t0),e.spinning=!1;case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))()},getAllRegion:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinning=!0,t.prev=1,t.next=4,e.$axios({method:e.$api.GET_ALL_REGION.method,url:e.$api.GET_ALL_REGION.url});case 4:n=t.sent,e.region=n.data.region,e.spinning=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log("获取所有城市列表失败。[getAllRegion]",t.t0),e.spinning=!1;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},saveSettings:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinning=!0,t.prev=1,t.next=4,e.$refs.settingsRef.validate();case 4:return t.next=6,e.$axios({method:e.$api.POST_SET_SETTINGS.method,url:e.$api.POST_SET_SETTINGS.url,data:{name:e.settings.Name,tel:e.settings.Tel,address:e.settings.Address,province_id:e.settings.regionOptions[0],city_id:e.settings.regionOptions[1],district_id:e.settings.regionOptions[2],autoDelivery:!0===e.settings.autoDelivery?1:0}});case 6:e.getExpressSettings(),e.spinning=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("保存设置失败。[saveSettings]",t.t0),e.spinning=!1;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},expressEdit:function(e){var t=arguments,n=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=t.length>1&&void 0!==t[1]?t[1]:null,i="","edit"===e&&(i=a.id),n.$router.push("/express/edit?id="+i);case 4:case"end":return r.stop()}}),r)})))()},changeStatus:function(e){var t=this,n=1===e.enabled?"停用":"启用";this.$modal.confirm({okText:"确定",okType:"danger",cancelText:"取消",maskClosable:!0,content:"确定".concat(n,"  ").concat(e.name," ?"),onOk:function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.spinning=!0,n.prev=1,n.next=4,t.$axios({method:t.$api.GET_CHANGE_EXPRESS_STATUS.method,url:t.$api.GET_CHANGE_EXPRESS_STATUS.url,params:{id:e.id,enabled:!e.enabled}});case 4:t.getExpressSettings(),t.spinning=!1,n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log("改变快递公司使用状态失败。[changeStatus]",n.t0),t.spinning=!1;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));function r(){return n.apply(this,arguments)}return r}()})}},mounted:function(){this.getExpressSettings(),this.getAllRegion()}});n("5b2a");v.render=O,v.__scopeId="data-v-f78d6184";t["default"]=v},"5b2a":function(e,t,n){"use strict";n("d073")},d073:function(e,t,n){}}]);
//# sourceMappingURL=chunk-801297d0.e17f718d.js.map