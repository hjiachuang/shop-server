{"version":3,"sources":["webpack:///./src/components/User/Index.vue?6b7d","webpack:///./src/components/User/Index.vue","webpack:///./src/components/User/Index.vue?3e29"],"names":["class","layout","model","formState","label","value","nickname","placeholder","type","getUser","data-source","tableData","pagination","tablePagination","rowKey","row","id","style","loading","tableLoading","key","title","data-index","width","default","image","src","fallback","preview","alt","height","gender","record","$router","push","name","data","spinning","defaultPageSize","hideOnSinglePage","showQuickJumper","showTotal","total","onChange","page","editableData","methods","size","$axios","method","$api","GET_ALL_USER","url","params","response","userlist","mounted","this","render","__scopeId"],"mappings":"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","file":"js/chunk-543336ac.ce8b1802.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=276b9f6d&lang=scss&scoped=true\"","<template>\r\n  <div class=\"user-index\">\r\n    <a-form layout=\"inline\" :model=\"formState\">\r\n      <a-form-item label=\"用户昵称\">\r\n        <a-input\r\n          v-model:value=\"formState.nickname\"\r\n          placeholder=\"请输入用户昵称\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item>\r\n        <a-button\r\n          type=\"primary\"\r\n          @click=\"() => getUser(1, 20, formState.nickname)\"\r\n          >查询</a-button\r\n        >\r\n      </a-form-item>\r\n      <a-form-item>\r\n        <a-button\r\n          type=\"primary\"\r\n          @click=\"\r\n            () => {\r\n              formState.nickname = '';\r\n              getUser();\r\n            }\r\n          \"\r\n          >重置</a-button\r\n        >\r\n      </a-form-item>\r\n    </a-form>\r\n    <a-table\r\n      :data-source=\"tableData\"\r\n      :pagination=\"tablePagination\"\r\n      :rowKey=\"(row) => row.id\"\r\n      style=\"margin-top: 10px\"\r\n      :loading=\"tableLoading\"\r\n    >\r\n      <a-table-column key=\"id\" title=\"ID\" data-index=\"id\" :width=\"80\" />\r\n      <a-table-column key=\"avatar\" title=\"头像\" data-index=\"avatar\" :width=\"60\">\r\n        <template #default=\"{ text: image }\">\r\n          <a-image\r\n            :src=\"image\"\r\n            fallback=\"/images/fallback.png\"\r\n            :preview=\"false\"\r\n            alt=\"头像\"\r\n            :width=\"60\"\r\n            :height=\"60\"\r\n          ></a-image>\r\n        </template>\r\n      </a-table-column>\r\n      <a-table-column key=\"nickname\" title=\"昵称\" data-index=\"nickname\" />\r\n      <a-table-column key=\"gender\" title=\"性别\" data-index=\"gender\">\r\n        <template #default=\"{ text: gender }\">\r\n          {{ gender === 2 ? \"女\" : \"男\" }}\r\n        </template>\r\n      </a-table-column>\r\n      <a-table-column\r\n        key=\"register_time\"\r\n        title=\"注册时间\"\r\n        data-index=\"register_time\"\r\n      />\r\n      <a-table-column\r\n        key=\"action\"\r\n        title=\"最近登录\"\r\n        data-index=\"last_login_time\"\r\n      />\r\n      <a-table-column key=\"action\" title=\"登录IP\" data-index=\"last_login_ip\" />\r\n      <a-table-column key=\"action\" title=\"操作\">\r\n        <template #default=\"{ record }\">\r\n          <a-button type=\"primary\" @click=\"$router.push(`/user/info?id=${record.id}`)\">查看</a-button>\r\n        </template>\r\n      </a-table-column>\r\n    </a-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserIndex',\r\n  data () {\r\n    return {\r\n      spinning: false,\r\n      tableLoading: false,\r\n      formState: {\r\n        nickname: ''\r\n      },\r\n      tablePagination: {\r\n        defaultPageSize: 20,\r\n        hideOnSinglePage: true,\r\n        showQuickJumper: true,\r\n        showTotal: (total) => `共 ${total} 条`,\r\n        total: 0,\r\n        onChange: (page) => this.getUser(page, 20, this.formState.nickname)\r\n      },\r\n      tableData: [],\r\n      editableData: []\r\n    }\r\n  },\r\n  methods: {\r\n    async getUser (page = 1, size = 20, nickname = '') {\r\n      this.tableLoading = true\r\n      const response = await this.$axios({\r\n        method: this.$api.GET_ALL_USER.method,\r\n        url: this.$api.GET_ALL_USER.url,\r\n        params: {\r\n          page,\r\n          size,\r\n          nickname\r\n        }\r\n      })\r\n      this.tableData = response.data.userlist\r\n      this.tablePagination.total = response.data.total\r\n      this.tableLoading = false\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getUser()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-index {\r\n  background: #fff;\r\n  padding: 20px;\r\n}\r\n</style>\r\n","import { render } from \"./Index.vue?vue&type=template&id=276b9f6d&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=276b9f6d&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-276b9f6d\"\n\nexport default script"],"sourceRoot":""}