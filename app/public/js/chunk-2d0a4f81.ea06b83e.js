(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4f81"],{"0968":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"content-box"},i=Object(r["createTextVNode"])("添加广告"),c=Object(r["createTextVNode"])("编辑"),o=Object(r["createTextVNode"])("删除");function d(e,t,n,d,u,l){var s=Object(r["resolveComponent"])("a-button"),p=Object(r["resolveComponent"])("a-table-column"),b=Object(r["resolveComponent"])("a-image"),h=Object(r["resolveComponent"])("a-input-number"),g=Object(r["resolveComponent"])("a-switch"),f=Object(r["resolveComponent"])("a-table"),m=Object(r["resolveComponent"])("a-spin");return Object(r["openBlock"])(),Object(r["createBlock"])(m,{spinning:u.spinning},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",a,[Object(r["createVNode"])(s,{type:"primary",onClick:t[1]||(t[1]=function(t){return e.$router.push("/advertisement/edit/")})},{default:Object(r["withCtx"])((function(){return[i]})),_:1}),Object(r["createVNode"])(f,{"data-source":u.advertisement,pagination:u.tablePagination,rowKey:function(e){return e.id},style:{"margin-top":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{key:"id",title:"ID","data-index":"id",width:80}),Object(r["createVNode"])(p,{key:"image",title:"图片","data-index":"image_url"},{default:Object(r["withCtx"])((function(e){var t=e.text;return[Object(r["createVNode"])(b,{src:t,fallback:"/images/fallback.png",preview:!1,alt:"头像",width:60,height:60},null,8,["src"])]})),_:1}),Object(r["createVNode"])(p,{key:"goods_id",title:"关联商品","data-index":"goods_id"}),Object(r["createVNode"])(p,{key:"end_time",title:"结束时间","data-index":"end_time"}),Object(r["createVNode"])(p,{key:"sort_order",title:"排序"},{default:Object(r["withCtx"])((function(e){var t=e.record;return[Object(r["createVNode"])(h,{value:t.sort_order,"onUpdate:value":function(e){return t.sort_order=e},min:1},null,8,["value","onUpdate:value"])]})),_:1}),Object(r["createVNode"])(p,{key:"enabled",title:"状态"},{default:Object(r["withCtx"])((function(e){var t=e.record;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(!0===t.enabled?"启用":"禁用"),1)]})),_:1}),Object(r["createVNode"])(p,{key:"enabledSwitch",title:"切换状态"},{default:Object(r["withCtx"])((function(e){var t=e.record;return[Object(r["createVNode"])(g,{checked:t.enabled,"onUpdate:checked":function(e){return t.enabled=e},onChange:function(e){return l.changeStatus(t)}},null,8,["checked","onUpdate:checked","onChange"])]})),_:1}),Object(r["createVNode"])(p,{key:"action",title:"操作"},{default:Object(r["withCtx"])((function(t){var n=t.record;return[Object(r["createVNode"])(s,{type:"primary",onClick:function(t){return e.$router.push("/advertisement/edit?id=".concat(n.id))}},{default:Object(r["withCtx"])((function(){return[c]})),_:2},1032,["onClick"]),Object(r["createVNode"])(s,{type:"danger",onClick:function(e){return l.deleteAd(n)},style:{"margin-left":"10px"}},{default:Object(r["withCtx"])((function(){return[o]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data-source","pagination","rowKey"])])]})),_:1},8,["spinning"])}var u=n("1da1"),l=(n("96cf"),{name:"Advertisement",data:function(){var e=this;return{spinning:!1,advertisement:[],tablePagination:{defaultPageSize:20,hideOnSinglePage:!0,showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条")},total:0,onChange:function(t){return e.getAd(t)}}}},methods:{getAd:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.spinning=!0,n.prev=1,n.next=4,t.$axios({method:t.$api.GET_ADVERTISEMENT.method,url:t.$api.GET_ADVERTISEMENT.url,params:{page:e}});case 4:r=n.sent,t.advertisement=r.data.advertisement,t.tablePagination.total=r.data.total,t.spinning=!1,n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0),t.spinning=!1;case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()},changeStatus:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.spinning=!0,n.prev=1,n.next=4,t.$axios({method:t.$api.CHANGE_ADVERTISEMENT_STATE.method,url:t.$api.CHANGE_ADVERTISEMENT_STATE.url,data:{id:e.id,state:e.enabled}});case 4:t.spinning=!1,n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),t.spinning=!1;case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))()},deleteAd:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.spinning=!0,n.prev=1,n.next=4,t.$axios({method:t.$api.DELETE_ADVERTISEMENT.method,url:t.$api.DELETE_ADVERTISEMENT.url,data:{id:e.id}});case 4:t.spinning=!1,t.getAd(1),n.next=12;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0),t.spinning=!1;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},mounted:function(){this.getAd(1)}});l.render=d;t["default"]=l}}]);
//# sourceMappingURL=chunk-2d0a4f81.ea06b83e.js.map