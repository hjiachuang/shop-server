{"version":3,"sources":["webpack:///./src/components/Goods/Classification.vue","webpack:///./src/components/Goods/Classification.vue?6fec"],"names":["class","spinning","activeKey","tabChange","key","tab","getCategoryList","getSpecificationList","to","type","columns","categoryColumns","data-source","category","pagination","rowKey","row","id","style","iconDisplay","record","checked","icon_display","changeIconDisplay","showIndex","show_index","changeShowIndex","sort","value","sort_order","min","changeSortOrder","operation","edit","specificationColumns","specification","name","changeSpecificationName","changeSpecificationSortOrder","deleteSpecification","data","title","dataIndex","slots","customRender","methods","this","$axios","method","$api","GET_ALL_CATEGORY","url","response","console","log","GET_ALL_SPECIFICATION","request","changeStatus","$router","push","$modal","confirm","content","cancelText","okText","onOk","mounted","render"],"mappings":"qJAESA,MAAM,oC,yCAOoB,Q,+BAkB2D,M,+BAC3B,M,yCAMhC,Q,+BAesC,M,6cAhDvE,yBAqDS,GArDAC,SAAU,EAAAA,UAAQ,C,8BACzB,iBAmDM,CAnDN,yBAmDM,MAnDN,EAmDM,CAlDJ,yBAGS,GAHOC,UAAW,EAAAA,U,oDAAA,EAAAA,UAAS,IAAG,SAAQ,EAAAC,W,+BAC7C,iBAA0D,CAA1D,yBAA0D,GAA9CC,IAAI,IAAIC,IAAI,OAAQ,QAAO,EAAAC,iB,oBACvC,yBAA8D,GAAlDF,IAAI,IAAIC,IAAI,OAAQ,QAAO,EAAAE,sB,yDAErB,MAAT,EAAAL,W,yBAAX,yBAwBM,SAvBJ,yBAEc,GAFDM,GAAG,4BAA0B,C,8BACxC,iBAAwC,CAAxC,yBAAwC,GAA9BC,KAAK,WAAS,C,8BAAC,iBAAI,C,sBAE/B,yBAmBU,GAlBPC,QAAS,EAAAC,gBACTC,cAAa,EAAAC,SACbC,YAAY,EACZC,OAAM,SAAGC,GAAH,OAAWA,EAAIC,IACtBC,MAAA,uB,CACWC,YAAW,sBACpB,gBADuBC,EACvB,EADuBA,OACvB,MAD6B,CAC7B,yBAA+F,GAA7EC,QAASD,EAAOE,a,sCAAPF,EAAOE,aAAY,GAAG,SAAM,mBAAE,EAAAC,kBAAkBH,K,sDAElEI,UAAS,sBAClB,gBADqBJ,EACrB,EADqBA,OACrB,MAD2B,CAC3B,yBAA2F,GAAzEC,QAASD,EAAOK,W,sCAAPL,EAAOK,WAAU,GAAG,SAAM,mBAAE,EAAAC,gBAAgBN,K,sDAE9DO,KAAI,sBACb,gBADgBP,EAChB,EADgBA,OAChB,MADsB,CACtB,yBAA4G,GAApFQ,MAAOR,EAAOS,W,oCAAPT,EAAOS,WAAU,GAAGC,IAAK,EAAI,OAAI,mBAAE,EAAAC,gBAAgBX,K,gDAEzEY,UAAS,sBAClB,gBADqBZ,EACrB,EADqBA,OACrB,MAD2B,CAC3B,yBAA+F,GAArFX,KAAK,UAAUS,MAAA,wBAA4B,QAAK,mBAAE,EAAAe,KAAI,OAASb,K,+BAAS,iBAAE,C,6BACpF,yBAAoE,GAA1DX,KAAK,SAAU,QAAK,mBAAE,EAAAwB,KAAI,SAAUb,K,+BAAS,iBAAE,C,yGAI/D,yBAoBM,SAnBJ,yBAEc,GAFDZ,GAAG,iCAA+B,C,8BAC7C,iBAAwC,CAAxC,yBAAwC,GAA9BC,KAAK,WAAS,C,8BAAC,iBAAI,C,sBAE/B,yBAeU,GAdPC,QAAS,EAAAwB,qBACTtB,cAAa,EAAAuB,cACbrB,YAAY,EACZC,OAAM,SAAGC,GAAH,OAAWA,EAAIC,IACtBC,MAAA,uB,CACWkB,KAAI,sBACb,gBADgBhB,EAChB,EADgBA,OAChB,MADsB,CACtB,yBAAuF,GAAtEQ,MAAOR,EAAOgB,K,oCAAPhB,EAAOgB,KAAI,GAAG,OAAI,mBAAE,EAAAC,wBAAwBjB,K,gDAE3DO,KAAI,sBACb,gBADgBP,EAChB,EADgBA,OAChB,MADsB,CACtB,yBAAyH,GAAjGQ,MAAOR,EAAOS,W,oCAAPT,EAAOS,WAAU,GAAGC,IAAK,EAAI,OAAI,mBAAE,EAAAQ,6BAA6BlB,K,gDAEtFY,UAAS,sBAClB,gBADqBZ,EACrB,EADqBA,OACrB,MAD2B,CAC3B,yBAA0E,GAAhEX,KAAK,SAAU,QAAK,mBAAE,EAAA8B,oBAAoBnB,K,+BAAS,iBAAE,C,0HAS5D,G,UAAA,CACbgB,KAAM,sBACNI,KAFa,WAGX,MAAO,CACLvC,UAAU,EACVC,UAAW,IACXW,SAAU,GACVF,gBAAiB,CACf,CACE8B,MAAO,OACPC,UAAW,OACXtC,IAAK,QAEP,CACEqC,MAAO,OACPC,UAAW,eACXtC,IAAK,eACLuC,MAAO,CACLC,aAAc,gBAGlB,CACEH,MAAO,OACPC,UAAW,aACXtC,IAAK,aACLuC,MAAO,CACLC,aAAc,cAGlB,CACEH,MAAO,KACPC,UAAW,aACXtC,IAAK,aACLuC,MAAO,CACLC,aAAc,SAGlB,CACEH,MAAO,KACPrC,IAAK,YACLuC,MAAO,CACLC,aAAc,eAIpBT,cAAe,GACfD,qBAAsB,CACpB,CACEO,MAAO,KACPC,UAAW,KACXtC,IAAK,MAEP,CACEqC,MAAO,MACPC,UAAW,OACXtC,IAAK,OACLuC,MAAO,CACLC,aAAc,SAGlB,CACEH,MAAO,KACPC,UAAW,aACXtC,IAAK,aACLuC,MAAO,CACLC,aAAc,SAGlB,CACEH,MAAO,KACPrC,IAAK,YACLuC,MAAO,CACLC,aAAc,iBAMxBC,QAAS,CACP1C,UADO,SACIC,GACG,MAARA,EACF0C,KAAKxC,kBACY,MAARF,GACT0C,KAAKvC,wBAGHD,gBARC,WAQkB,qKACvB,EAAKL,UAAW,EADO,kBAGE,EAAK8C,OAAO,CACjCC,OAAQ,EAAKC,KAAKC,iBAAiBF,OACnCG,IAAK,EAAKF,KAAKC,iBAAiBC,MALb,OAGfC,EAHe,OAOrB,EAAKvC,SAAWuC,EAASZ,KAAK3B,SAC9B,EAAKZ,UAAW,EARK,mDAUrBoD,QAAQC,IAAR,MACA,EAAKrD,UAAW,EAXK,4DAcnBM,qBAtBC,WAsBuB,qKAC5B,EAAKN,UAAW,EADY,kBAGH,EAAK8C,OAAO,CACjCC,OAAQ,EAAKC,KAAKM,sBAAsBP,OACxCG,IAAK,EAAKF,KAAKM,sBAAsBJ,MALb,OAGpBC,EAHoB,OAO1B,EAAKjB,cAAgBiB,EAASZ,KAAKL,cACnC,EAAKlC,UAAW,EARU,mDAU1BoD,QAAQC,IAAR,MACA,EAAKrD,UAAW,EAXU,4DAc9BsB,kBApCO,SAoCYiB,GACjBa,QAAQC,IAAI,OACZ,IAAME,EAAU,CACdvC,GAAIuB,EAAKvB,GACTK,aAAckB,EAAKlB,cAErBwB,KAAKW,aAAa,+BAAgCD,IAEpD9B,gBA5CO,SA4CUc,GACf,IAAMgB,EAAU,CACdvC,GAAIuB,EAAKvB,GACTQ,WAAYe,EAAKf,YAEnBqB,KAAKW,aAAa,6BAA8BD,IAElDzB,gBAnDO,SAmDUS,GACf,IAAMgB,EAAU,CACdvC,GAAIuB,EAAKvB,GACTY,WAAYW,EAAKX,YAEnBiB,KAAKW,aAAa,6BAA8BD,IAElDnB,wBA1DO,SA0DkBG,GACvB,IAAMgB,EAAU,CACdvC,GAAIuB,EAAKvB,GACTmB,KAAMI,EAAKJ,MAEbU,KAAKW,aAAa,4BAA6BD,IAEjDlB,6BAjEO,SAiEuBE,GAC5B,IAAMgB,EAAU,CACdvC,GAAIuB,EAAKvB,GACTY,WAAYW,EAAKX,YAEnBiB,KAAKW,aAAa,kCAAmCD,IAEvDvB,KAxEO,SAwEDxB,EAAM+B,GAAM,WACH,SAAT/B,EACFqC,KAAKY,QAAQC,KAAb,sCAAiDnB,EAAKvB,KACpC,WAATR,GACTqC,KAAKc,OAAOC,QAAQ,CAClBpB,MAAO,KACPqB,QAAS,YACTC,WAAY,KACZC,OAAQ,KACRC,KAAM,WACJ,EAAKR,aAAa,kBAAmB,CACnCxC,GAAIuB,EAAKvB,SAMnBsB,oBAzFO,SAyFcC,GAAM,WACzBM,KAAKc,OAAOC,QAAQ,CAClBpB,MAAO,KACPqB,QAAS,YACTC,WAAY,KACZC,OAAQ,KACRC,KAAM,WACJ,EAAKR,aAAa,uBAAwB,CACxCxC,GAAIuB,EAAKvB,SAKXwC,aAtGC,SAsGahD,EAAM+B,GAAM,+JAC9B,EAAKvC,UAAW,EADc,kBAGtB,EAAK8C,OAAO,CAChBC,OAAQ,EAAKC,KAAKxC,GAAMuC,OACxBG,IAAK,EAAKF,KAAKxC,GAAM0C,IACrBX,SAN0B,OAQ5B,EAAKvC,UAAW,EACO,MAAnB,EAAKC,UACP,EAAKI,kBACuB,MAAnB,EAAKJ,WACd,EAAKK,uBAZqB,mDAe5B8C,QAAQC,IAAR,MACA,EAAKrD,UAAW,EAhBY,6DAoBlCiE,QAxMa,WAyMXpB,KAAKxC,qBChQT,EAAO6D,OAASA,EAED","file":"js/chunk-7705af93.8e243760.js","sourcesContent":["<template>\r\n  <a-spin :spinning=\"spinning\">\r\n    <div class=\"content-box goods-classification\">\r\n      <a-tabs v-model:activeKey=\"activeKey\" @change=\"tabChange\">\r\n        <a-tab-pane key=\"1\" tab=\"分类设置\" @click=\"getCategoryList\" />\r\n        <a-tab-pane key=\"2\" tab=\"型号设置\" @click=\"getSpecificationList\"/>\r\n      </a-tabs>\r\n      <div v-if=\"activeKey === '1'\">\r\n        <router-link to=\"/classification/category\">\r\n          <a-button type=\"primary\">添加分类</a-button>\r\n        </router-link>\r\n        <a-table\r\n          :columns=\"categoryColumns\"\r\n          :data-source=\"category\"\r\n          :pagination=\"false\"\r\n          :rowKey=\"(row) => row.id\"\r\n          style=\"margin-top: 10px\">\r\n          <template #iconDisplay=\"{record}\">\r\n            <a-switch v-model:checked=\"record.icon_display\" @change=\"changeIconDisplay(record)\"></a-switch>\r\n          </template>\r\n          <template #showIndex=\"{record}\">\r\n            <a-switch v-model:checked=\"record.show_index\" @change=\"changeShowIndex(record)\"></a-switch>\r\n          </template>\r\n          <template #sort=\"{record}\">\r\n            <a-input-number v-model:value=\"record.sort_order\" :min=\"1\" @blur=\"changeSortOrder(record)\"></a-input-number>\r\n          </template>\r\n          <template #operation=\"{record}\">\r\n            <a-button type=\"primary\" style=\"margin-right: 10px\" @click=\"edit('edit', record)\">编辑</a-button>\r\n            <a-button type=\"danger\" @click=\"edit('delete',record)\">删除</a-button>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n      <div v-else>\r\n        <router-link to=\"/classification/specification\">\r\n          <a-button type=\"primary\">添加型号</a-button>\r\n        </router-link>\r\n        <a-table\r\n          :columns=\"specificationColumns\"\r\n          :data-source=\"specification\"\r\n          :pagination=\"false\"\r\n          :rowKey=\"(row) => row.id\"\r\n          style=\"margin-top: 10px\">\r\n          <template #name=\"{record}\">\r\n            <a-input v-model:value=\"record.name\" @blur=\"changeSpecificationName(record)\"></a-input>\r\n          </template>\r\n          <template #sort=\"{record}\">\r\n            <a-input-number v-model:value=\"record.sort_order\" :min=\"1\" @blur=\"changeSpecificationSortOrder(record)\"></a-input-number>\r\n          </template>\r\n          <template #operation=\"{record}\">\r\n            <a-button type=\"danger\" @click=\"deleteSpecification(record)\">删除</a-button>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n    </div>\r\n  </a-spin>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsClassification',\r\n  data () {\r\n    return {\r\n      spinning: false,\r\n      activeKey: '1',\r\n      category: [],\r\n      categoryColumns: [\r\n        {\r\n          title: '分类名称',\r\n          dataIndex: 'name',\r\n          key: 'name'\r\n        },\r\n        {\r\n          title: '图标显示',\r\n          dataIndex: 'icon_display',\r\n          key: 'icon_display',\r\n          slots: {\r\n            customRender: 'iconDisplay'\r\n          }\r\n        },\r\n        {\r\n          title: '首页显示',\r\n          dataIndex: 'show_index',\r\n          key: 'show_index',\r\n          slots: {\r\n            customRender: 'showIndex'\r\n          }\r\n        },\r\n        {\r\n          title: '排序',\r\n          dataIndex: 'sort_order',\r\n          key: 'sort_order',\r\n          slots: {\r\n            customRender: 'sort'\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'operation',\r\n          slots: {\r\n            customRender: 'operation'\r\n          }\r\n        }\r\n      ],\r\n      specification: [],\r\n      specificationColumns: [\r\n        {\r\n          title: 'ID',\r\n          dataIndex: 'id',\r\n          key: 'id'\r\n        },\r\n        {\r\n          title: '型号名',\r\n          dataIndex: 'name',\r\n          key: 'name',\r\n          slots: {\r\n            customRender: 'name'\r\n          }\r\n        },\r\n        {\r\n          title: '排序',\r\n          dataIndex: 'sort_order',\r\n          key: 'sort_order',\r\n          slots: {\r\n            customRender: 'sort'\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'operation',\r\n          slots: {\r\n            customRender: 'operation'\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    tabChange (key) {\r\n      if (key === '1') {\r\n        this.getCategoryList()\r\n      } else if (key === '2') {\r\n        this.getSpecificationList()\r\n      }\r\n    },\r\n    async getCategoryList () {\r\n      this.spinning = true\r\n      try {\r\n        const response = await this.$axios({\r\n          method: this.$api.GET_ALL_CATEGORY.method,\r\n          url: this.$api.GET_ALL_CATEGORY.url\r\n        })\r\n        this.category = response.data.category\r\n        this.spinning = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.spinning = false\r\n      }\r\n    },\r\n    async getSpecificationList () {\r\n      this.spinning = true\r\n      try {\r\n        const response = await this.$axios({\r\n          method: this.$api.GET_ALL_SPECIFICATION.method,\r\n          url: this.$api.GET_ALL_SPECIFICATION.url\r\n        })\r\n        this.specification = response.data.specification\r\n        this.spinning = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.spinning = false\r\n      }\r\n    },\r\n    changeIconDisplay (data) {\r\n      console.log('???')\r\n      const request = {\r\n        id: data.id,\r\n        icon_display: data.icon_display\r\n      }\r\n      this.changeStatus('CHANGE_CATEGORY_ICON_DISPLAY', request)\r\n    },\r\n    changeShowIndex (data) {\r\n      const request = {\r\n        id: data.id,\r\n        show_index: data.show_index\r\n      }\r\n      this.changeStatus('CHANGE_CATEGORY_SHOW_INDEX', request)\r\n    },\r\n    changeSortOrder (data) {\r\n      const request = {\r\n        id: data.id,\r\n        sort_order: data.sort_order\r\n      }\r\n      this.changeStatus('CHANGE_CATEGORY_SORT_ORDER', request)\r\n    },\r\n    changeSpecificationName (data) {\r\n      const request = {\r\n        id: data.id,\r\n        name: data.name\r\n      }\r\n      this.changeStatus('CHANGE_SPECIFICATION_NAME', request)\r\n    },\r\n    changeSpecificationSortOrder (data) {\r\n      const request = {\r\n        id: data.id,\r\n        sort_order: data.sort_order\r\n      }\r\n      this.changeStatus('CHANGE_SPECIFICATION_SORT_ORDER', request)\r\n    },\r\n    edit (type, data) {\r\n      if (type === 'edit') {\r\n        this.$router.push(`/classification/category?id=${data.id}`)\r\n      } else if (type === 'delete') {\r\n        this.$modal.confirm({\r\n          title: '提示',\r\n          content: '确定要删除该分类?',\r\n          cancelText: '取消',\r\n          okText: '确定',\r\n          onOk: () => {\r\n            this.changeStatus('DELETE_CATEGORY', {\r\n              id: data.id\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    deleteSpecification (data) {\r\n      this.$modal.confirm({\r\n        title: '提示',\r\n        content: '确定要删除该类型?',\r\n        cancelText: '取消',\r\n        okText: '确定',\r\n        onOk: () => {\r\n          this.changeStatus('DELETE_SPECIFICATION', {\r\n            id: data.id\r\n          })\r\n        }\r\n      })\r\n    },\r\n    async changeStatus (type, data) {\r\n      this.spinning = true\r\n      try {\r\n        await this.$axios({\r\n          method: this.$api[type].method,\r\n          url: this.$api[type].url,\r\n          data\r\n        })\r\n        this.spinning = false\r\n        if (this.activeKey === '1') {\r\n          this.getCategoryList()\r\n        } else if (this.activeKey === '2') {\r\n          this.getSpecificationList()\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.spinning = false\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCategoryList()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Classification.vue?vue&type=template&id=52ec746b\"\nimport script from \"./Classification.vue?vue&type=script&lang=js\"\nexport * from \"./Classification.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}