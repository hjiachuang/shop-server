{"version":3,"sources":["webpack:///./src/components/Shop/FreightTemplate.vue","webpack:///./src/components/Shop/FreightTemplate.vue?5b1e","webpack:///./src/components/Shop/FreightTemplate.vue?fc7e"],"names":["class","style","spinning","data-source","template","pagination","rowKey","row","id","title","type","edit","key","data-index","width","default","freight_type","record","shipper","enabled","color","name","components","InfoCircleOutlined","data","methods","getFreightTemplate","$axios","method","$api","GET_FREIGHT_TEMPLATE","url","response","console","log","$modal","confirm","okText","okType","cancelText","maskClosable","content","onOk","DELETE_FREIGHT_TEMPLATE","params","$router","push","mounted","this","render","__scopeId"],"mappings":"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","file":"js/chunk-57427974.18969357.js","sourcesContent":["<template>\r\n  <a-spin :spinning=\"spinning\">\r\n    <div class=\"shop-freight-template\">\r\n      <a-table\r\n        :data-source=\"template\"\r\n        :pagination=\"false\"\r\n        :rowKey=\"(row) => row.id\"\r\n        >\r\n        <template #title>\r\n          <h3>运费模板列表</h3>\r\n          <a-button type=\"primary\" @click=\"edit('add')\">添加</a-button>\r\n        </template>\r\n        <a-table-column key=\"id\" title=\"ID\" data-index=\"id\" :width=\"80\" />\r\n        <a-table-column key=\"name\" title=\"名字\" data-index=\"name\" />\r\n        <a-table-column key=\"shipper_name\" title=\"快递公司\" data-index=\"shipper.name\" />\r\n        <a-table-column key=\"package_price\" title=\"包装费\" data-index=\"package_price\" />\r\n        <a-table-column key=\"freight_type\" title=\"按件/按重\" data-index=\"freight_type\">\r\n          <template #default=\"{ text: freight_type }\">\r\n            {{freight_type === 0 ? '按件' : '按重'}}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column key=\"status\" title=\"状态\" data-index=\"status\">\r\n          <template #default=\"{ record }\">\r\n            <span v-if=\"record.shipper.enabled === 0\">\r\n              <span style=\"margin-right: 6px\">不可用</span>\r\n              <a-tooltip title=\"快递已停用，请先启用快递\" color=\"#f50\">\r\n                <InfoCircleOutlined style=\"color: #f50\" />\r\n              </a-tooltip>\r\n            </span>\r\n            <span v-else>可用</span>\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column key=\"action\" title=\"操作\">\r\n          <template #default=\"{ record }\">\r\n            <a-button v-if=\"record.shipper.enabled === 1\" type=\"primary\" @click=\"edit('edit', record)\" style=\"margin-right: 20px;\">编辑</a-button>\r\n            <a-button type=\"danger\" @click=\"edit('delete', record)\">删除</a-button>\r\n          </template>\r\n        </a-table-column>\r\n      </a-table>\r\n    </div>\r\n  </a-spin>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  InfoCircleOutlined\r\n} from '@ant-design/icons-vue'\r\nexport default {\r\n  name: 'ShopFreightTemplate',\r\n  components: { InfoCircleOutlined },\r\n  data () {\r\n    return {\r\n      spinning: false,\r\n      template: []\r\n    }\r\n  },\r\n  methods: {\r\n    async getFreightTemplate () {\r\n      this.spinning = true\r\n      try {\r\n        const response = await this.$axios({\r\n          method: this.$api.GET_FREIGHT_TEMPLATE.method,\r\n          url: this.$api.GET_FREIGHT_TEMPLATE.url\r\n        })\r\n        this.template = response.data.template\r\n        this.spinning = false\r\n      } catch (err) {\r\n        console.log('获取运费模板失败。[getFreightTemplate]', err)\r\n        this.spinning = false\r\n      }\r\n    },\r\n    async edit (type, data = null) {\r\n      if (type === 'delete') {\r\n        this.$modal.confirm({\r\n          okText: '确定',\r\n          okType: 'danger',\r\n          cancelText: '取消',\r\n          maskClosable: true,\r\n          content: '确定删除运费模板?',\r\n          onOk: async () => {\r\n            this.spinning = true\r\n            try {\r\n              await this.$axios({\r\n                method: this.$api.DELETE_FREIGHT_TEMPLATE.method,\r\n                url: this.$api.DELETE_FREIGHT_TEMPLATE.url,\r\n                params: {\r\n                  id: data.id\r\n                }\r\n              })\r\n              this.getFreightTemplate()\r\n              this.spinning = false\r\n            } catch (err) {\r\n              console.log('删除运费模板失败。[edit->delete]', err)\r\n              this.spinning = false\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        let id = ''\r\n        if (type === 'edit') {\r\n          id = data.id\r\n        }\r\n        this.$router.push('/freight/edit?id=' + id)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getFreightTemplate()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.shop-freight-template {\r\n  padding: 20px;\r\n  background: #fff;\r\n}\r\n</style>\r\n","import { render } from \"./FreightTemplate.vue?vue&type=template&id=c0fa2cf2&scoped=true\"\nimport script from \"./FreightTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./FreightTemplate.vue?vue&type=script&lang=js\"\n\nimport \"./FreightTemplate.vue?vue&type=style&index=0&id=c0fa2cf2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c0fa2cf2\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FreightTemplate.vue?vue&type=style&index=0&id=c0fa2cf2&lang=scss&scoped=true\""],"sourceRoot":""}